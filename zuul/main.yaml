- admin-rule:
    name: admin
    conditions:
      - resource_access.zuul.roles: "admin"

- admin-rule:
    name: eco_admin
    conditions:
      - resource_access.zuul.roles: "eco_admin"

- admin-rule:
    name: gl_admin
    conditions:
      - resource_access.zuul.roles: "gl_admin"

- tenant:
    name: eco
    admin-rules:
      - admin
      - eco_admin
    exclude-unprotected-branches: true
    report-build-page: true
    max-nodes-per-job: 5
    source:
      github:
        config-projects:
          - opentelekomcloud-infra/zuul-project-config
          - opentelekomcloud-infra/base-jobs:
              load-branch: main
        untrusted-projects:
          - opentelekomcloud-infra/otc-zuul-jobs:
              extra-config-paths:
                - zuul-tests.d/
          ### OpenTelekomCloud
          - opentelekomcloud/ansible-collection-apimon
          - opentelekomcloud/ansible-collection-cloud
          - opentelekomcloud/ansible-collection-common
          - opentelekomcloud/ansible-collection-gitcontrol
          - opentelekomcloud/ansible-collection-template
          - opentelekomcloud/ansible-role-bastion
          - opentelekomcloud/ansible-role-otcextensions
          - opentelekomcloud/ansible-role-keypair
          - opentelekomcloud/ansible-role-server-common
          - opentelekomcloud/ansible-role-vpc
          - opentelekomcloud/cloud-provider-opentelekomcloud
          - opentelekomcloud/docker-machine-opentelekomcloud
          - opentelekomcloud/docs
          - opentelekomcloud/gophertelekomcloud
          # - opentelekomcloud/golangsdk
          - opentelekomcloud/kontainer-engine-driver-otc
          - opentelekomcloud/oms
          - opentelekomcloud/otcdocstheme
          - opentelekomcloud/python-giteaclient
          - opentelekomcloud/python-otcextensions
          - opentelekomcloud/security-concept
          - opentelekomcloud/sphinx-opensearch
          - opentelekomcloud/swift-proxy
          - opentelekomcloud/terraform-provider-opentelekomcloud
          - opentelekomcloud/ui-driver-otc
          - opentelekomcloud/ui-cluster-driver-otc
          - opentelekomcloud/vault-plugin-secrets-openstack
          ### OpenTelekomCloud Blueprints
          - opentelekomcloud-blueprints/docs
          ### OpenTelekomCloud Docs
          - opentelekomcloud-docs/anti-ddos
          - opentelekomcloud-docs/application-operations-management
          - opentelekomcloud-docs/auto-scaling
          - opentelekomcloud-docs/bare-metal-server
          - opentelekomcloud-docs/cloud-backup-recovery
          - opentelekomcloud-docs/cloud-container-engine
          - opentelekomcloud-docs/cloud-eye
          - opentelekomcloud-docs/cloud-search-service
          - opentelekomcloud-docs/cloud-server-backup-service
          - opentelekomcloud-docs/cloud-trace-service
          - opentelekomcloud-docs/content-delivery-network
          - opentelekomcloud-docs/data-ingestion-service
          - opentelekomcloud-docs/data-warehouse-service
          - opentelekomcloud-docs/dedicated-host
          - opentelekomcloud-docs/direct-connect
          - opentelekomcloud-docs/distributed-cache-service
          - opentelekomcloud-docs/distributed-message-service
          - opentelekomcloud-docs/doc-exports
          - opentelekomcloud-docs/docs_on_docs
          - opentelekomcloud-docs/docsportal
          - opentelekomcloud-docs/document-database-service
          - opentelekomcloud-docs/elastic-cloud-server
          - opentelekomcloud-docs/elastic-ip
          - opentelekomcloud-docs/elastic-load-balancing
          - opentelekomcloud-docs/elastic-volume-service
          - opentelekomcloud-docs/enterprise-dashboard
          - opentelekomcloud-docs/identity-access-management
          - opentelekomcloud-docs/image-management-service
          - opentelekomcloud-docs/key-management-service
          - opentelekomcloud-docs/log-tank-service
          - opentelekomcloud-docs/mapreduce-service
          - opentelekomcloud-docs/modelarts
          - opentelekomcloud-docs/nat-gateway
          - opentelekomcloud-docs/object-storage-service
          - opentelekomcloud-docs/private-link-access-service
          - opentelekomcloud-docs/relational-database-service
          - opentelekomcloud-docs/resource-template-service
          - opentelekomcloud-docs/sandbox
          - opentelekomcloud-docs/scalable-file-service
          - opentelekomcloud-docs/security
          - opentelekomcloud-docs/simple-message-notification
          - opentelekomcloud-docs/software-repository-container
          - opentelekomcloud-docs/status-dashboard
          - opentelekomcloud-docs/storage-disaster-recovery-service
          - opentelekomcloud-docs/tag-management-service
          - opentelekomcloud-docs/virtual-private-cloud
          - opentelekomcloud-docs/virtual-private-network
          - opentelekomcloud-docs/volume-backup-service
          - opentelekomcloud-docs/vpc-endpoint
          - opentelekomcloud-docs/web-application-firewall
          ### OpenTelekomCloud Infra
          - opentelekomcloud-infra/alerta
          - opentelekomcloud-infra/alerta-web-addon
          - opentelekomcloud-infra/ansible-collection-dashboard
          - opentelekomcloud-infra/ansible-collection-infra
          - opentelekomcloud-infra/api-monitoring
          - opentelekomcloud-infra/apimon
          - opentelekomcloud-infra/apimon-tests
          - opentelekomcloud-infra/ansible-playbooks-common
          - opentelekomcloud-infra/ansible-role-alerta
          - opentelekomcloud-infra/ansible-role-apimon
          - opentelekomcloud-infra/ansible-role-certbot
          - opentelekomcloud-infra/ansible-role-fluentd
          - opentelekomcloud-infra/ansible-role-galera
          - opentelekomcloud-infra/ansible-role-grafana
          - opentelekomcloud-infra/ansible-role-haproxy
          - opentelekomcloud-infra/ansible-role-influxdb
          - opentelekomcloud-infra/ansible-role-kapacitor
          - opentelekomcloud-infra/ansible-role-postgres-cluster
          - opentelekomcloud-infra/ansible-role-server-sync
          - opentelekomcloud-infra/ansible-role-telegraf
          - opentelekomcloud-infra/ansible-role-web-proxy-nginx
          - opentelekomcloud-infra/ansible-role-zookeeper
          - opentelekomcloud-infra/cloudmon-metrics
          - opentelekomcloud-infra/cloudmon-plugin-loadbalancer
          - opentelekomcloud-infra/cloudmon-plugin-smtp
          - opentelekomcloud-infra/crutch-house
          - opentelekomcloud-infra/csm-ansible-collection
          - opentelekomcloud-infra/csm-ansible-roles
          - opentelekomcloud-infra/csm-test-utils
          - opentelekomcloud-infra/csm-test-scenarios
          - opentelekomcloud-infra/customer-service-monitoring
          - opentelekomcloud-infra/dashboard
          - opentelekomcloud-infra/delatore
          - opentelekomcloud-infra/docsportal
          - opentelekomcloud-infra/galera
          - opentelekomcloud-infra/gitstyring
          - opentelekomcloud-infra/fluentd
          - opentelekomcloud-infra/identity-deploy
          - opentelekomcloud-infra/kapellmeister
          - opentelekomcloud-infra/myndir
          - opentelekomcloud-infra/octavia-proxy
          - opentelekomcloud-infra/otc-api-ref
          - opentelekomcloud-infra/otcbot
          - opentelekomcloud-infra/rancher-integration-tests
          - opentelekomcloud-infra/system-config
          - opentelekomcloud-infra/test-scenarios
          - opentelekomcloud-infra/validatetoken
          - opentelekomcloud-infra/vault-plugin-secrets-github
          - opentelekomcloud-infra/zuul-config
          ### OpenTelekomCloud TF modules
          - terraform-opentelekomcloud-modules/terraform-opentelekomcloud-vpc
          #####
          - include: []
            projects:
              - ansible/ansible
      opendev:
        untrusted-projects:
          - zuul/zuul-jobs:
              shadow:
                - opentelekomcloud-infra/zuul-project-config
                - opentelekomcloud-infra/otc-zuul-jobs
          - include: []
            projects:
              - osf/refstack-client
              - openstack/ansible-collections-openstack

- tenant:
    name: gl
    admin-rules:
      - admin
      - gl_admin
    exclude-unprotected-branches: true
    report-build-page: true
    max-nodes-per-job: 5
    source:
      gitea:
        untrusted-projects:
          # Internal docs
          - docs/anti-ddos
          - docs/application-operations-management
          - docs/auto-scaling
          - docs/bare-metal-server
          - docs/cloud-backup-recovery
          - docs/cloud-container-engine
          - docs/cloud-eye
          - docs/cloud-search-service
          - docs/cloud-server-backup-service
          - docs/cloud-trace-service
          - docs/content-delivery-network
          - docs/data-ingestion-service
          - docs/data-warehouse-service
          - docs/dedicated-host
          - docs/direct-connect
          - docs/distributed-cache-service
          - docs/distributed-message-service
          - docs/doc-exports
          - docs/docsportal
          - docs/document-database-service
          - docs/elastic-cloud-server
          - docs/elastic-ip
          - docs/elastic-load-balancing
          - docs/elastic-volume-service
          - docs/enterprise-dashboard
          - docs/identity-access-management
          - docs/image-management-service
          - docs/key-management-service
          - docs/log-tank-service
          - docs/mapreduce-service
          - docs/modelarts
          - docs/nat-gateway
          - docs/object-storage-service
          - docs/private-link-access-service
          - docs/relational-database-service
          - docs/resource-template-service
          - docs/sandbox
          - docs/scalable-file-service
          - docs/security
          - docs/simple-message-notification
          - docs/software-repository-container
          - docs/status-dashboard
          - docs/storage-disaster-recovery-service
          - docs/tag-management-service
          - docs/virtual-private-cloud
          - docs/virtual-private-network
          - docs/volume-backup-service
          - docs/vpc-endpoint
          - docs/web-application-firewall

      gitlab:
        config-projects:
          - ecosystem/zuul-project-config:
              extra-config-paths:
                - zuul-tests.d/
              load-branch: main
        untrusted-projects:
          # - docs/docsportal
          - docs/ecosystem
          - ecosystem/docs
          - ecosystem/service_catalog
          - ecosystem/system-config
          - ecosystem/gitstyring

      github:
        untrusted-projects:
          - opentelekomcloud-infra/otc-zuul-jobs:
              include:
                - job
                - project-template

          #####
          - include: []
            projects:
              - ansible/ansible
              - opentelekomcloud-infra/system-config
              - opentelekomcloud/ansible-collection-apimon
              - opentelekomcloud/ansible-collection-cloud
              - opentelekomcloud/ansible-collection-gitcontrol

      opendev:
        untrusted-projects:
          - zuul/zuul-jobs:
              shadow:
                - ecosystem/zuul-project-config
                - opentelekomcloud-infra/otc-zuul-jobs
          - include: []
            projects:
              - openstack/ansible-collections-openstack
